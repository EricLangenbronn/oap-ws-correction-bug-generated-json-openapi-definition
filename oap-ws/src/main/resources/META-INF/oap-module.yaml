name: oap-ws
dependsOn:
  - oap
services:
  oap-ws-webservices:
    implementation: oap.ws.WebServices
    profile: http
    parameters:
      kernel: "@kernel"
      server: "@service:oap-http-server"
      sessionManager: "@service:session-manager"
      globalCorsPolicy: "@service:corsPolicy-generic"
    supervision:
      supervise: true
    dependsOn:
      - oap-http-server
      - session-manager
      - corsPolicy-generic
      - corsPolicy-subdomain

  session-manager:
    implementation: oap.ws.SessionManager
    profile: http
    parameters:
      expirationTime: 24h
      cookiePath: "/"
    supervision:
      supervise: true
